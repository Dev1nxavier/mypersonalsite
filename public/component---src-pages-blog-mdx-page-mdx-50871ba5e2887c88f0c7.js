"use strict";(self.webpackChunkmy_gatsby_portfolio_site=self.webpackChunkmy_gatsby_portfolio_site||[]).push([[1881],{2406:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return m},default:function(){return s}});var n,o=a(3366),i=(a(7294),a(4983)),r=(a(1597),a(664)),d=["components"],m={title:"building a Gatsby webpage directly from MDX",date:"2022-05-07",hero_image:"./brain_diagram.jpeg",alt:"Image of 2D brain with neon lights"},l=(n="CardContent",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),p={_frontmatter:m};function s(e){var t=e.components,a=(0,o.Z)(e,d);return(0,i.mdx)("wrapper",Object.assign({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("p",null,"Gatsby has an incredible ability to quickly create reusable components and pages directly from MDX, Markdown language with the ability to use JSX components. This is great for content-driven sites like blogs and tutorials. "),(0,i.mdx)("p",null,"The following is a step-by step guide that includes callouts to common pitfalls.   "),(0,i.mdx)("h1",null,"Configuring Gatsby to use MDX"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"First, we need to download and configure Gatsby to read MDX   "),(0,i.mdx)("p",{parentName:"li"},"Start by installing ",(0,i.mdx)("strong",{parentName:"p"},"gatsby-plugin-mdx"),"   "))),(0,i.mdx)("deckgo-highlight-code",null,"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},"    npm install gatsby-plugin-mdx"),"\n        "),(0,i.mdx)("ol",{start:2},(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Update ",(0,i.mdx)("strong",{parentName:"p"},"gatsby-config.js"),"   "),(0,i.mdx)("p",{parentName:"li"},"Since we are creating a .mdx page under src/pages we don't need to add any plugins to acces this in the site Node. More on this later.   "))),(0,i.mdx)("deckgo-highlight-code",{language:"javascript","highlight-lines":"8"},"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},'    module.exports = {   \n        siteMetadata: {   \n            title: `My Gatsby Site`,   \n            siteUrl: `https://www.yourdomain.tld`,   \n            },   \n            plugins: [   \n                "gatsby-plugin-netlify-cms"   \n                "gatsby-plugin-mdx",   \n                "gatsby-plugin-image",   \n            ],   \n    };    '),"\n        "),(0,i.mdx)("ol",{start:3},(0,i.mdx)("li",{parentName:"ol"},"Restart your development server")),(0,i.mdx)("deckgo-highlight-code",{language:"javascript","highlight-lines":"1,2"},"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},"    ^C   \n    npm start develop //or gatsby develop if you installed Gatsby CLI"),"\n        "),(0,i.mdx)("h1",null,"Creating MDX URLs"),(0,i.mdx)("h4",null,"Now that your Gatsby site is using MDX, its time to create our page.mdx"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Create a new page.mdx file    "),(0,i.mdx)("p",{parentName:"li"},"Under src > pages > create a new my-markup-page.mdx   "))),(0,i.mdx)("deckgo-highlight-code",null,"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},"    touch src/pages/my-markup-page.mdx"),"\n        "),(0,i.mdx)("ol",{start:2},(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Creating frontmatter medidata"),(0,i.mdx)("p",{parentName:"li"},"MDX can use page medata. This data can be accessed in a GraphQl query under frontmatter  "),(0,i.mdx)("p",{parentName:"li"},"In the newly created .mdx file, at the very top of the page record page data surrounded by 3 dashes:   "))),(0,i.mdx)("deckgo-highlight-code",null,"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},'    ---\n    title: "page title"\n    date: "YYY-MM-D"\n    hero_image:"../images/exampleImage.jpeg"   \n    ---'),"\n        "),(0,i.mdx)("h3",null,(0,i.mdx)("em",{parentName:"h3"},"A note on frontmatter"),":"),(0,i.mdx)("p",null,"frontmatter lets us access page medidata such as title, hero images, dates and more which can be accessed via GraphQL query. To query data, MDX files must be added to the site Node system using a plugin such as gatsby-source-filesystem. Visit ",(0,i.mdx)("a",{parentName:"p",href:"/blog/source-filesystem"},"Gatsby Source Filesystem")," for instructions."),(0,i.mdx)("deckgo-highlight-code",{language:"javascript","highlight-lines":"4,15"},"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},'    query MyQuery {\n    allMdx {\n        nodes {\n        frontmatter {\n            header\n            title\n            alt\n            date(formatString: "MMMM DD YYYY")\n            _image {\n            childImageSharp {\n                gatsbyImageData\n            }\n            publicURL\n            }\n        }\n        slug\n        id\n        }\n    }\n}'),"\n        "),(0,i.mdx)("h1",null,"Styling your page"),(0,i.mdx)("p",null,"Now that we have our page created we can start writing our content.",(0,i.mdx)("br",{parentName:"p"}),"\n","MDX is a ",(0,i.mdx)("em",{parentName:"p"},"writing")," language (as opposed to html which is a ",(0,i.mdx)("em",{parentName:"p"},"publishing")," language). That means its most suited for basic formatting of plain-text. Once we have our basic content written, there are a few things we can do to improve the look of the page.   "),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Add the page title to the body from the page medidata",(0,i.mdx)("br",{parentName:"p"}),"\n","We can grab the page title from the medidata block by accessing the page props",(0,i.mdx)("br",{parentName:"p"}),"\n","javascript{1}"),(0,i.mdx)("deckgo-highlight-code",{parentName:"li"},"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"}," <h1>{props.pageContext.title}</h1>\n "),"\n        "),(0,i.mdx)("p",{parentName:"li"},"Did you notice the html ","<","h1> tags? We can use regular html directly in our MDX file.",(0,i.mdx)("br",{parentName:"p"}),"\n","You can read more on MDX formatting ",(0,i.mdx)("a",{parentName:"p",href:"https://daringfireball.net/projects/markdown/syntax"},"here"),".")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Under the page medata write content that will be the body of your page.",(0,i.mdx)("br",{parentName:"p"}),"\n","Not inspired to write that novel yet? Trying using ",(0,i.mdx)("a",{parentName:"p",href:"https://www.lipsum.com/"},"Lorem Ipsum")," for filler.   ")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Import Components into your MDX file",(0,i.mdx)("br",{parentName:"p"}),"\n","Just like accessing html elements directly, we can use Components directly in our MDX file. At the top of the page ",(0,i.mdx)("strong",{parentName:"p"},"underneath the medidata section")," import your components",(0,i.mdx)("br",{parentName:"p"}),"\n","javascript{6} "),(0,i.mdx)("deckgo-highlight-code",{parentName:"li"},"\n          ",(0,i.mdx)("code",{parentName:"deckgo-highlight-code",slot:"code"},' ---\n title: "page title"\n date: "YYY-MM-D"\n hero_image:"../images/exampleImage.jpeg"   \n ---\n import { Card, CardActions, CartContent, CardMedia, Button } from \'@mui/material\'   '),"\n        "),(0,i.mdx)("p",{parentName:"li"}," ",(0,i.mdx)("em",{parentName:"p"},"this is an example. You are free to use whatever library or custom component you want!"),"   ")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Start populating your components",(0,i.mdx)("br",{parentName:"p"}),"\n","Just like with the page title, you can access medidata directly without a GraphQL query. Below is an example using Material-UI's card component   "))),(0,i.mdx)(r.Z,{sx:{width:345},mdxType:"Card"},(0,i.mdx)(l,{mdxType:"CardContent"},"This is some content")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-blog-mdx-page-mdx-50871ba5e2887c88f0c7.js.map